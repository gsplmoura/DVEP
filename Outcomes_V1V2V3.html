<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="S.P.L.M., Gustavo">
<meta name="dcterms.date" content="2025-05-26">

<title>All outcomes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Outcomes_V1V2V3_files/libs/clipboard/clipboard.min.js"></script>
<script src="Outcomes_V1V2V3_files/libs/quarto-html/quarto.js"></script>
<script src="Outcomes_V1V2V3_files/libs/quarto-html/popper.min.js"></script>
<script src="Outcomes_V1V2V3_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Outcomes_V1V2V3_files/libs/quarto-html/anchor.min.js"></script>
<link href="Outcomes_V1V2V3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Outcomes_V1V2V3_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Outcomes_V1V2V3_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Outcomes_V1V2V3_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Outcomes_V1V2V3_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#outcomes" id="toc-outcomes" class="nav-link active" data-scroll-target="#outcomes">Outcomes</a>
  <ul>
  <li><a href="#labs_ast" id="toc-labs_ast" class="nav-link" data-scroll-target="#labs_ast">labs_ast</a></li>
  <li><a href="#labs_alt" id="toc-labs_alt" class="nav-link" data-scroll-target="#labs_alt">labs_alt</a></li>
  <li><a href="#labs_ggt" id="toc-labs_ggt" class="nav-link" data-scroll-target="#labs_ggt">labs_ggt</a></li>
  <li><a href="#labs_alkp" id="toc-labs_alkp" class="nav-link" data-scroll-target="#labs_alkp">labs_alkp</a></li>
  <li><a href="#labs_cholesterol" id="toc-labs_cholesterol" class="nav-link" data-scroll-target="#labs_cholesterol">labs_cholesterol</a></li>
  <li><a href="#labs_ldl" id="toc-labs_ldl" class="nav-link" data-scroll-target="#labs_ldl">labs_ldl</a></li>
  <li><a href="#labs_hdl" id="toc-labs_hdl" class="nav-link" data-scroll-target="#labs_hdl">labs_hdl</a></li>
  <li><a href="#labs_triglycerides" id="toc-labs_triglycerides" class="nav-link" data-scroll-target="#labs_triglycerides">labs_triglycerides</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Outcomes_V1V2V3.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">All outcomes</h1>
</div>



<div class="quarto-title-meta column-page-left">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>S.P.L.M., Gustavo </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 26, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<div style="page-break-after: always;"></div>
</div>
<section id="outcomes" class="level1">
<h1>Outcomes</h1>
<p>Variables:</p>
<ul>
<li>labs_ast - negative</li>
<li>labs_alt - negative</li>
<li>labs_ggt - negative</li>
<li>labs_alkp - negative</li>
<li>labs_cholesterol - negative</li>
<li>labs_ldl - negative</li>
<li>labs_hdl - negative</li>
<li>labs_triglycerides</li>
<li>labs_glucose</li>
<li>labs_hba1c</li>
<li>labs_insulin</li>
<li>labs_homa_ir</li>
<li>labs_quick_index</li>
<li>abdomen</li>
<li>bmi</li>
<li>mean_bp_mean</li>
<li>evs_score</li>
</ul>
<section id="labs_ast" class="level3">
<h3 class="anchored" data-anchor-id="labs_ast">labs_ast</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>labs_ast_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        labs_ast <span class="sc">&lt;</span> <span class="dv">300</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_ast)) <span class="sc">+</span> </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>labs_ast_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        labs_ast <span class="sc">&lt;</span> <span class="dv">300</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_ast))) <span class="sc">+</span> </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>labs_ast_hist_1 <span class="sc">+</span> labs_ast_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ast_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>labs_ast_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="fu">log1p</span>(labs_ast) <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_ast_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.39 [1.21, 1.74]         1.18      0.72
                  visit 3.53 [2.81, 4.54]         1.88      0.28
 allocation_group:visit 4.18 [3.30, 5.39]         2.04      0.24
 Tolerance 95% CI
     [0.57, 0.83]
     [0.22, 0.36]
     [0.19, 0.30]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>labs_ast_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_ast_model,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">5</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>labs_ast_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_ast_model,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_ast_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>labs_ast_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "4"  "14" "33" "61" "16"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_ast_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_ast) ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: 5.8

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.72864 -0.55023 -0.04259  0.56429  2.70480 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.03007  0.1734  
 Residual              0.03385  0.1840  
Number of obs: 179, groups:  record_id, 75

Fixed effects:
                                 Estimate Std. Error         df t value
(Intercept)                      3.211717   0.041563 126.794430  77.273
allocation_groupGrupo B         -0.020671   0.058392 126.794430  -0.354
visit2                          -0.008428   0.045718 106.361849  -0.184
visit3                          -0.009289   0.049356 109.412475  -0.188
allocation_groupGrupo B:visit2  -0.015833   0.066802 109.278386  -0.237
allocation_groupGrupo B:visit3   0.025422   0.071565 111.735957   0.355
                               Pr(&gt;|t|)    
(Intercept)                      &lt;2e-16 ***
allocation_groupGrupo B           0.724    
visit2                            0.854    
visit3                            0.851    
allocation_groupGrupo B:visit2    0.813    
allocation_groupGrupo B:visit3    0.723    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.481  0.343                     
visit3      -0.446  0.317  0.442              
allctn_GB:2  0.330 -0.463 -0.684 -0.303       
allctn_GB:3  0.308 -0.432 -0.305 -0.690  0.424</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_ast_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_ast) ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_ast_model_check$influential_ids)

REML criterion at convergence: -33.2

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-1.91122 -0.53274 -0.03816  0.58631  1.89195 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.03382  0.1839  
 Residual              0.02259  0.1503  
Number of obs: 166, groups:  record_id, 70

Fixed effects:
                                Estimate Std. Error        df t value Pr(&gt;|t|)
(Intercept)                      3.22105    0.04015 100.92953  80.229   &lt;2e-16
allocation_groupGrupo B         -0.04417    0.05678 100.92953  -0.778    0.438
visit2                          -0.01756    0.03879  95.56884  -0.453    0.652
visit3                          -0.03571    0.04157  97.13735  -0.859    0.392
allocation_groupGrupo B:visit2  -0.02157    0.05710  97.80899  -0.378    0.706
allocation_groupGrupo B:visit3   0.06882    0.06184  99.31712   1.113    0.268
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.707                            
visit2      -0.414  0.293                     
visit3      -0.387  0.274  0.450              
allctn_GB:2  0.282 -0.398 -0.679 -0.306       
allctn_GB:3  0.260 -0.368 -0.302 -0.672  0.430</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>labs_ast_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                      estimate std.error statistic    p.value
   &lt;chr&gt;       &lt;chr&gt;                        &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 Original    (Intercept)                3.21       0.0416    77.3    1.64e-108
 2 Sensitivity (Intercept)                3.22       0.0401    80.2    3.09e- 93
 3 Original    allocation_groupGrupo B   -0.0207     0.0584    -0.354  7.24e-  1
 4 Sensitivity allocation_groupGrupo B   -0.0442     0.0568    -0.778  4.38e-  1
 5 Original    allocation_groupGrupo B:… -0.0158     0.0668    -0.237  8.13e-  1
 6 Sensitivity allocation_groupGrupo B:… -0.0216     0.0571    -0.378  7.06e-  1
 7 Original    allocation_groupGrupo B:…  0.0254     0.0716     0.355  7.23e-  1
 8 Sensitivity allocation_groupGrupo B:…  0.0688     0.0618     1.11   2.68e-  1
 9 Original    sd__(Intercept)            0.173     NA         NA     NA        
10 Sensitivity sd__(Intercept)            0.184     NA         NA     NA        
11 Original    sd__Observation            0.184     NA         NA     NA        
12 Sensitivity sd__Observation            0.150     NA         NA     NA        
13 Original    visit2                    -0.00843    0.0457    -0.184  8.54e-  1
14 Sensitivity visit2                    -0.0176     0.0388    -0.453  6.52e-  1
15 Original    visit3                    -0.00929    0.0494    -0.188  8.51e-  1
16 Sensitivity visit3                    -0.0357     0.0416    -0.859  3.92e-  1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_ast_model, labs_ast_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                |           Model |  AIC (weights) | AICc (weights)
-----------------------------------------------------------------------
labs_ast_model      | lmerModLmerTest | 1139.5 (&lt;.001) | 1140.3 (&lt;.001)
labs_ast_model_sens | lmerModLmerTest | 1014.1 (&gt;.999) | 1015.0 (&gt;.999)

Name                |  BIC (weights) | R2 (cond.) | R2 (marg.) |   ICC |  RMSE | Sigma
--------------------------------------------------------------------------------------
labs_ast_model      | 1165.0 (&lt;.001) |      0.472 |      0.003 | 0.470 | 0.154 | 0.184
labs_ast_model_sens | 1039.0 (&gt;.999) |      0.605 |      0.013 | 0.600 | 0.122 | 0.150</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_ast_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ast_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_ast_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ast_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>labs_ast_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    labs_ast_model_sens, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>labs_ast_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean     SE  df lower.CL upper.CL
 Grupo A          1       3.22 0.0401 104     3.14     3.30
 Grupo B          1       3.18 0.0401 104     3.10     3.26
 Grupo A          2       3.20 0.0428 118     3.12     3.29
 Grupo B          2       3.14 0.0456 131     3.05     3.23
 Grupo A          3       3.19 0.0453 132     3.10     3.27
 Grupo B          3       3.21 0.0493 146     3.11     3.31

Degrees-of-freedom method: kenward-roger 
Results are given on the log1p (not the response) scale. 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_ast_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate     SE  df t.ratio p.value
 Grupo A - Grupo B   0.0442 0.0568 104   0.778  0.4384

visit = 2:
 contrast          estimate     SE  df t.ratio p.value
 Grupo A - Grupo B   0.0657 0.0626 125   1.051  0.2953

visit = 3:
 contrast          estimate     SE  df t.ratio p.value
 Grupo A - Grupo B  -0.0247 0.0669 140  -0.368  0.7133

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_ast_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate     SE    df t.ratio p.value
 visit1 - visit2   0.0176 0.0388  98.2   0.452  1.0000
 visit1 - visit3   0.0357 0.0416  99.8   0.858  1.0000
 visit2 - visit3   0.0181 0.0422  95.0   0.430  1.0000

allocation_group = Grupo B:
 contrast        estimate     SE    df t.ratio p.value
 visit1 - visit2   0.0391 0.0420 102.4   0.932  1.0000
 visit1 - visit3  -0.0331 0.0459 103.7  -0.721  1.0000
 visit2 - visit3  -0.0722 0.0476  96.7  -1.517  0.3979

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_ast_emm, <span class="at">comparisons =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ast_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_ast,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ast_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_ast_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_ast,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ast_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="labs_alt" class="level3">
<h3 class="anchored" data-anchor-id="labs_alt">labs_alt</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>labs_alt_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_alt &lt; 300</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;% </span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_alt)) <span class="sc">+</span> </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>labs_alt_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_alt &lt; 300</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;%</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_alt))) <span class="sc">+</span> </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>labs_alt_hist_1 <span class="sc">+</span> labs_alt_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alt_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>labs_alt_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="fu">log1p</span>(labs_alt) <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_alt_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.21 [1.08, 1.54]         1.10      0.83
                  visit 3.50 [2.79, 4.49]         1.87      0.29
 allocation_group:visit 3.84 [3.04, 4.94]         1.96      0.26
 Tolerance 95% CI
     [0.65, 0.92]
     [0.22, 0.36]
     [0.20, 0.33]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>labs_alt_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_alt_model,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">5</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>labs_alt_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_alt_model,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_alt_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>labs_alt_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "33" "75" "5"  "58" "63"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_alt_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_alt) ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: 132.2

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.28166 -0.55027 -0.05275  0.54015  2.15582 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.10863  0.3296  
 Residual              0.05485  0.2342  
Number of obs: 179, groups:  record_id, 75

Fixed effects:
                                Estimate Std. Error        df t value Pr(&gt;|t|)
(Intercept)                      3.34045    0.06647 102.44387  50.254   &lt;2e-16
allocation_groupGrupo B         -0.10187    0.09338 102.44387  -1.091    0.278
visit2                          -0.07956    0.05867 103.85033  -1.356    0.178
visit3                          -0.03364    0.06353 105.34376  -0.529    0.598
allocation_groupGrupo B:visit2   0.06143    0.08602 105.75034   0.714    0.477
allocation_groupGrupo B:visit3   0.07920    0.09237 106.88087   0.857    0.393
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.380  0.271                     
visit3      -0.351  0.250  0.449              
allctn_GB:2  0.259 -0.364 -0.682 -0.306       
allctn_GB:3  0.241 -0.339 -0.309 -0.688  0.432</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_alt_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_alt) ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_alt_model_check$influential_ids)

REML criterion at convergence: 88.4

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-1.98911 -0.51655 -0.03328  0.57521  2.21076 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.09385  0.3063  
 Residual              0.04238  0.2059  
Number of obs: 165, groups:  record_id, 70

Fixed effects:
                                Estimate Std. Error        df t value Pr(&gt;|t|)
(Intercept)                     3.249918   0.064250 90.966334  50.582   &lt;2e-16
allocation_groupGrupo B        -0.013075   0.088373 90.966334  -0.148    0.883
visit2                         -0.021536   0.055231 93.405160  -0.390    0.697
visit3                         -0.035422   0.060679 94.750397  -0.584    0.561
allocation_groupGrupo B:visit2 -0.009275   0.078377 94.689442  -0.118    0.906
allocation_groupGrupo B:visit3  0.043535   0.085567 95.767451   0.509    0.612
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.727                            
visit2      -0.362  0.263                     
visit3      -0.329  0.239  0.442              
allctn_GB:2  0.255 -0.351 -0.705 -0.311       
allctn_GB:3  0.234 -0.321 -0.313 -0.709  0.434</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>labs_alt_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                       estimate std.error statistic   p.value
   &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Original    (Intercept)                 3.34       0.0665    50.3    5.32e-74
 2 Sensitivity (Intercept)                 3.25       0.0642    50.6    2.13e-68
 3 Original    allocation_groupGrupo B    -0.102      0.0934    -1.09   2.78e- 1
 4 Sensitivity allocation_groupGrupo B    -0.0131     0.0884    -0.148  8.83e- 1
 5 Original    allocation_groupGrupo B:v…  0.0614     0.0860     0.714  4.77e- 1
 6 Sensitivity allocation_groupGrupo B:v… -0.00928    0.0784    -0.118  9.06e- 1
 7 Original    allocation_groupGrupo B:v…  0.0792     0.0924     0.857  3.93e- 1
 8 Sensitivity allocation_groupGrupo B:v…  0.0435     0.0856     0.509  6.12e- 1
 9 Original    sd__(Intercept)             0.330     NA         NA     NA       
10 Sensitivity sd__(Intercept)             0.306     NA         NA     NA       
11 Original    sd__Observation             0.234     NA         NA     NA       
12 Sensitivity sd__Observation             0.206     NA         NA     NA       
13 Original    visit2                     -0.0796     0.0587    -1.36   1.78e- 1
14 Sensitivity visit2                     -0.0215     0.0552    -0.390  6.97e- 1
15 Original    visit3                     -0.0336     0.0635    -0.529  5.98e- 1
16 Sensitivity visit3                     -0.0354     0.0607    -0.584  5.61e- 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_alt_model, labs_alt_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                |           Model |  AIC (weights) | AICc (weights)
-----------------------------------------------------------------------
labs_alt_model      | lmerModLmerTest | 1302.9 (&lt;.001) | 1303.8 (&lt;.001)
labs_alt_model_sens | lmerModLmerTest | 1150.5 (&gt;.999) | 1151.4 (&gt;.999)

Name                |  BIC (weights) | R2 (cond.) | R2 (marg.) |   ICC |  RMSE | Sigma
--------------------------------------------------------------------------------------
labs_alt_model      | 1328.4 (&lt;.001) |      0.668 |      0.011 | 0.664 | 0.187 | 0.234
labs_alt_model_sens | 1175.3 (&gt;.999) |      0.689 |      0.002 | 0.689 | 0.163 | 0.206</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_alt_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alt_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_alt_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alt_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>labs_alt_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    labs_alt_model_sens, </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>labs_alt_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean     SE    df lower.CL upper.CL
 Grupo A          1       3.25 0.0642  93.7     3.12     3.38
 Grupo B          1       3.24 0.0607  93.7     3.12     3.36
 Grupo A          2       3.23 0.0679 107.7     3.09     3.36
 Grupo B          2       3.21 0.0670 118.5     3.07     3.34
 Grupo A          3       3.21 0.0725 125.2     3.07     3.36
 Grupo B          3       3.24 0.0710 133.0     3.10     3.39

Degrees-of-freedom method: kenward-roger 
Results are given on the log1p (not the response) scale. 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_alt_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B   0.0131 0.0884  93.7   0.148  0.8827

visit = 2:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B   0.0224 0.0954 113.0   0.234  0.8153

visit = 3:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B  -0.0305 0.1010 129.1  -0.300  0.7645

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_alt_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  0.02154 0.0553 96.1   0.390  1.0000
 visit1 - visit3  0.03542 0.0608 97.4   0.583  1.0000
 visit2 - visit3  0.01389 0.0614 93.5   0.226  1.0000

allocation_group = Grupo B:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  0.03081 0.0557 98.6   0.553  1.0000
 visit1 - visit3 -0.00811 0.0604 99.4  -0.134  1.0000
 visit2 - visit3 -0.03892 0.0623 94.1  -0.625  1.0000

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_alt_emm, <span class="at">comparisons =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alt_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_alt,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) <span class="sc">+</span> </span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">80</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alt_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_alt_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_alt,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) <span class="sc">+</span> </span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">80</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alt_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="labs_ggt" class="level3">
<h3 class="anchored" data-anchor-id="labs_ggt">labs_ggt</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>labs_ggt_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        labs_ggt <span class="sc">&lt;</span> <span class="dv">300</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_ggt)) <span class="sc">+</span> </span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>labs_ggt_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>        labs_ggt <span class="sc">&lt;</span> <span class="dv">300</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_ggt))) <span class="sc">+</span> </span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>labs_ggt_hist_1 <span class="sc">+</span> labs_ggt_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ggt_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>labs_ggt_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="fu">log1p</span>(labs_ggt) <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_ggt_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.08 [1.01, 1.64]         1.04      0.93
                  visit 3.40 [2.71, 4.36]         1.84      0.29
 allocation_group:visit 3.51 [2.79, 4.51]         1.87      0.28
 Tolerance 95% CI
     [0.61, 0.99]
     [0.23, 0.37]
     [0.22, 0.36]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>labs_ggt_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_ggt_model,</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">7</span>)</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>labs_ggt_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_ggt_model,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_ggt_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>labs_ggt_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "13" "46" "49" "58" "22" "34" "41"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_ggt_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_ggt) ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: 214.3

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-1.98517 -0.41941 -0.02504  0.42332  2.68048 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.35840  0.5987  
 Residual              0.05825  0.2413  
Number of obs: 178, groups:  record_id, 75

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                     3.36365    0.10612 81.55575  31.697   &lt;2e-16
allocation_groupGrupo B         0.05279    0.14908 81.55575   0.354    0.724
visit2                         -0.02673    0.06095 98.79849  -0.439    0.662
visit3                          0.01219    0.06614 99.26017   0.184    0.854
allocation_groupGrupo B:visit2  0.04689    0.08964 99.59537   0.523    0.602
allocation_groupGrupo B:visit3  0.02698    0.09736 99.95801   0.277    0.782
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.243  0.173                     
visit3      -0.224  0.160  0.455              
allctn_GB:2  0.166 -0.233 -0.680 -0.310       
allctn_GB:3  0.152 -0.214 -0.309 -0.679  0.436</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_ggt_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_ggt) ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_ggt_model_check$influential_ids)

REML criterion at convergence: 129.2

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.06521 -0.44956 -0.01804  0.45494  1.81501 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.2520   0.5020  
 Residual              0.0364   0.1908  
Number of obs: 160, groups:  record_id, 68

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                     3.21202    0.09349 74.25204  34.357   &lt;2e-16
allocation_groupGrupo B         0.14499    0.13031 74.25204   1.113    0.269
visit2                         -0.01105    0.05075 89.14440  -0.218    0.828
visit3                          0.03893    0.05564 89.56439   0.700    0.486
allocation_groupGrupo B:visit2  0.06129    0.07498 89.97944   0.817    0.416
allocation_groupGrupo B:visit3  0.01693    0.08145 90.24696   0.208    0.836
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.717                            
visit2      -0.233  0.167                     
visit3      -0.212  0.152  0.452              
allctn_GB:2  0.157 -0.219 -0.677 -0.306       
allctn_GB:3  0.145 -0.202 -0.309 -0.683  0.434</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>labs_ggt_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                       estimate std.error statistic   p.value
   &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Original    (Intercept)                  3.36      0.106     31.7    1.28e-47
 2 Sensitivity (Intercept)                  3.21      0.0935    34.4    2.48e-47
 3 Original    allocation_groupGrupo B      0.0528    0.149      0.354  7.24e- 1
 4 Sensitivity allocation_groupGrupo B      0.145     0.130      1.11   2.69e- 1
 5 Original    allocation_groupGrupo B:v…   0.0469    0.0896     0.523  6.02e- 1
 6 Sensitivity allocation_groupGrupo B:v…   0.0613    0.0750     0.817  4.16e- 1
 7 Original    allocation_groupGrupo B:v…   0.0270    0.0974     0.277  7.82e- 1
 8 Sensitivity allocation_groupGrupo B:v…   0.0169    0.0814     0.208  8.36e- 1
 9 Original    sd__(Intercept)              0.599    NA         NA     NA       
10 Sensitivity sd__(Intercept)              0.502    NA         NA     NA       
11 Original    sd__Observation              0.241    NA         NA     NA       
12 Sensitivity sd__Observation              0.191    NA         NA     NA       
13 Original    visit2                      -0.0267    0.0610    -0.439  6.62e- 1
14 Sensitivity visit2                      -0.0110    0.0507    -0.218  8.28e- 1
15 Original    visit3                       0.0122    0.0661     0.184  8.54e- 1
16 Sensitivity visit3                       0.0389    0.0556     0.700  4.86e- 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_ggt_model, labs_ggt_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                |           Model |  AIC (weights) | AICc (weights)
-----------------------------------------------------------------------
labs_ggt_model      | lmerModLmerTest | 1425.1 (&lt;.001) | 1426.0 (&lt;.001)
labs_ggt_model_sens | lmerModLmerTest | 1189.5 (&gt;.999) | 1190.4 (&gt;.999)

Name                |  BIC (weights) | R2 (cond.) | R2 (marg.) |   ICC |  RMSE | Sigma
--------------------------------------------------------------------------------------
labs_ggt_model      | 1450.6 (&lt;.001) |      0.861 |      0.004 | 0.860 | 0.185 | 0.241
labs_ggt_model_sens | 1214.1 (&gt;.999) |      0.877 |      0.026 | 0.874 | 0.145 | 0.191</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_ggt_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ggt_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_ggt_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ggt_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>labs_ggt_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    labs_ggt_model_sens, </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>labs_ggt_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean     SE   df lower.CL upper.CL
 Grupo A          1       3.21 0.0935 74.8     3.03     3.40
 Grupo B          1       3.36 0.0908 74.8     3.18     3.54
 Grupo A          2       3.20 0.0955 80.4     3.01     3.39
 Grupo B          2       3.41 0.0960 90.1     3.22     3.60
 Grupo A          3       3.25 0.0981 88.4     3.06     3.45
 Grupo B          3       3.41 0.0985 97.8     3.22     3.61

Degrees-of-freedom method: kenward-roger 
Results are given on the log1p (not the response) scale. 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_ggt_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate    SE   df t.ratio p.value
 Grupo A - Grupo B   -0.145 0.130 74.8  -1.113  0.2694

visit = 2:
 contrast          estimate    SE   df t.ratio p.value
 Grupo A - Grupo B   -0.206 0.135 85.1  -1.524  0.1313

visit = 3:
 contrast          estimate    SE   df t.ratio p.value
 Grupo A - Grupo B   -0.162 0.139 93.0  -1.164  0.2473

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_ggt_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  0.01105 0.0508 89.7   0.218  1.0000
 visit1 - visit3 -0.03893 0.0557 90.1  -0.699  1.0000
 visit2 - visit3 -0.04998 0.0559 88.8  -0.895  1.0000

allocation_group = Grupo B:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2 -0.05024 0.0552 91.2  -0.909  1.0000
 visit1 - visit3 -0.05586 0.0595 91.4  -0.938  1.0000
 visit2 - visit3 -0.00562 0.0619 89.3  -0.091  1.0000

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_ggt_emm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ggt_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_ggt,</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ggt_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_ggt_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_ggt,</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ggt_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="labs_alkp" class="level3">
<h3 class="anchored" data-anchor-id="labs_alkp">labs_alkp</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>labs_alkp_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_alkp &lt; 300</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;% </span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_alkp)) <span class="sc">+</span> </span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>labs_alkp_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_alkp &lt; 300</span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;%</span></span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_alkp))) <span class="sc">+</span> </span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>labs_alkp_hist_1 <span class="sc">+</span> labs_alkp_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alkp_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>labs_alkp_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="fu">log1p</span>(labs_alkp) <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_alkp_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.08 [1.01, 1.62]         1.04      0.93
                  visit 3.40 [2.71, 4.36]         1.84      0.29
 allocation_group:visit 3.52 [2.80, 4.52]         1.88      0.28
 Tolerance 95% CI
     [0.62, 0.99]
     [0.23, 0.37]
     [0.22, 0.36]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>labs_alkp_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_alkp_model,</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">4</span>)</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>labs_alkp_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_alkp_model,</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_alkp_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>labs_alkp_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "56" "75" "53" "3" </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_alkp_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_alkp) ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: -87.9

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.02732 -0.46612  0.01043  0.43200  2.62132 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.06041  0.2458  
 Residual              0.01021  0.1010  
Number of obs: 178, groups:  record_id, 75

Fixed effects:
                                 Estimate Std. Error         df t value
(Intercept)                      4.210088   0.043688  84.150015  96.367
allocation_groupGrupo B          0.033160   0.061377  84.150015   0.540
visit2                          -0.046856   0.025510 100.999520  -1.837
visit3                          -0.030253   0.027680 101.476417  -1.093
allocation_groupGrupo B:visit2   0.018421   0.037511 101.816342   0.491
allocation_groupGrupo B:visit3   0.004182   0.040741 102.191761   0.103
                               Pr(&gt;|t|)    
(Intercept)                      &lt;2e-16 ***
allocation_groupGrupo B          0.5904    
visit2                           0.0692 .  
visit3                           0.2770    
allocation_groupGrupo B:visit2   0.6244    
allocation_groupGrupo B:visit3   0.9184    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.248  0.176                     
visit3      -0.228  0.162  0.455              
allctn_GB:2  0.168 -0.236 -0.680 -0.310       
allctn_GB:3  0.155 -0.218 -0.309 -0.679  0.436</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_alkp_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_alkp) ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_alkp_model_check$influential_ids)

REML criterion at convergence: -118.6

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-1.95508 -0.49130  0.04228  0.50567  1.80928 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.06287  0.25073 
 Residual              0.00669  0.08179 
Number of obs: 167, groups:  record_id, 71

Fixed effects:
                                Estimate Std. Error        df t value Pr(&gt;|t|)
(Intercept)                     4.198426   0.044579 75.550975  94.179   &lt;2e-16
allocation_groupGrupo B         0.071738   0.062605 75.550975   1.146    0.255
visit2                         -0.021391   0.021391 93.237481  -1.000    0.320
visit3                         -0.002867   0.023373 93.517548  -0.123    0.903
allocation_groupGrupo B:visit2 -0.020052   0.031577 93.770609  -0.635    0.527
allocation_groupGrupo B:visit3 -0.052680   0.034183 93.954152  -1.541    0.127
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.200  0.143                     
visit3      -0.183  0.131  0.454              
allctn_GB:2  0.136 -0.191 -0.677 -0.307       
allctn_GB:3  0.125 -0.176 -0.310 -0.684  0.438</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>labs_alkp_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                       estimate std.error statistic   p.value
   &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Original    (Intercept)                 4.21       0.0437    96.4    6.67e-88
 2 Sensitivity (Intercept)                 4.20       0.0446    94.2    4.38e-80
 3 Original    allocation_groupGrupo B     0.0332     0.0614     0.540  5.90e- 1
 4 Sensitivity allocation_groupGrupo B     0.0717     0.0626     1.15   2.55e- 1
 5 Original    allocation_groupGrupo B:v…  0.0184     0.0375     0.491  6.24e- 1
 6 Sensitivity allocation_groupGrupo B:v… -0.0201     0.0316    -0.635  5.27e- 1
 7 Original    allocation_groupGrupo B:v…  0.00418    0.0407     0.103  9.18e- 1
 8 Sensitivity allocation_groupGrupo B:v… -0.0527     0.0342    -1.54   1.27e- 1
 9 Original    sd__(Intercept)             0.246     NA         NA     NA       
10 Sensitivity sd__(Intercept)             0.251     NA         NA     NA       
11 Original    sd__Observation             0.101     NA         NA     NA       
12 Sensitivity sd__Observation             0.0818    NA         NA     NA       
13 Original    visit2                     -0.0469     0.0255    -1.84   6.92e- 2
14 Sensitivity visit2                     -0.0214     0.0214    -1.00   3.20e- 1
15 Original    visit3                     -0.0303     0.0277    -1.09   2.77e- 1
16 Sensitivity visit3                     -0.00287    0.0234    -0.123  9.03e- 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_alkp_model, labs_alkp_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                 |           Model |  AIC (weights) | AICc (weights)
------------------------------------------------------------------------
labs_alkp_model      | lmerModLmerTest | 1394.9 (&lt;.001) | 1395.7 (&lt;.001)
labs_alkp_model_sens | lmerModLmerTest | 1274.2 (&gt;.999) | 1275.1 (&gt;.999)

Name                 |  BIC (weights) | R2 (cond.) | R2 (marg.) |   ICC |  RMSE | Sigma
---------------------------------------------------------------------------------------
labs_alkp_model      | 1420.3 (&lt;.001) |      0.857 |      0.010 | 0.855 | 0.077 | 0.101
labs_alkp_model_sens | 1299.1 (&gt;.999) |      0.905 |      0.015 | 0.904 | 0.062 | 0.082</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_alkp_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alkp_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_alkp_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alkp_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>labs_alkp_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    labs_alkp_model_sens, </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>labs_alkp_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean     SE   df lower.CL upper.CL
 Grupo A          1       4.20 0.0446 75.8     4.11     4.29
 Grupo B          1       4.27 0.0440 75.8     4.18     4.36
 Grupo A          2       4.18 0.0454 81.1     4.09     4.27
 Grupo B          2       4.23 0.0458 87.8     4.14     4.32
 Grupo A          3       4.20 0.0464 87.4     4.10     4.29
 Grupo B          3       4.21 0.0467 93.8     4.12     4.31

Degrees-of-freedom method: kenward-roger 
Results are given on the log1p (not the response) scale. 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_alkp_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate     SE   df t.ratio p.value
 Grupo A - Grupo B  -0.0717 0.0626 75.8  -1.146  0.2554

visit = 2:
 contrast          estimate     SE   df t.ratio p.value
 Grupo A - Grupo B  -0.0517 0.0645 84.4  -0.801  0.4254

visit = 3:
 contrast          estimate     SE   df t.ratio p.value
 Grupo A - Grupo B  -0.0191 0.0658 90.6  -0.289  0.7729

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_alkp_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  0.02139 0.0214 93.5   1.000  0.9602
 visit1 - visit3  0.00287 0.0234 93.8   0.123  1.0000
 visit2 - visit3 -0.01852 0.0235 92.6  -0.790  1.0000

allocation_group = Grupo B:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  0.04144 0.0232 94.5   1.783  0.2333
 visit1 - visit3  0.05555 0.0250 94.6   2.225  0.0853
 visit2 - visit3  0.01410 0.0259 92.9   0.545  1.0000

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_alkp_emm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alkp_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_alkp,</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alkp_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_alkp_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_alkp,</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_alkp_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="labs_cholesterol" class="level3">
<h3 class="anchored" data-anchor-id="labs_cholesterol">labs_cholesterol</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_cholesterol &lt; 300</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;% </span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_cholesterol)) <span class="sc">+</span> </span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_cholesterol &lt; 300</span></span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;%</span></span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_cholesterol))) <span class="sc">+</span> </span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-17"><a href="#cb99-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb99-18"><a href="#cb99-18" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_hist_1 <span class="sc">+</span> labs_cholesterol_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_cholesterol_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(labs_cholesterol <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_cholesterol_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.15 [1.05, 1.50]         1.07      0.87
                  visit 3.49 [2.78, 4.48]         1.87      0.29
 allocation_group:visit 3.73 [2.96, 4.80]         1.93      0.27
 Tolerance 95% CI
     [0.67, 0.96]
     [0.22, 0.36]
     [0.21, 0.34]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_cholesterol_model,</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">5</span>)</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_cholesterol_model,</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_cholesterol_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "17" "37" "56" "61" "13"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_cholesterol_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: labs_cholesterol ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: 1617.3

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.2546 -0.4103  0.0145  0.4447  2.5046 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 743.1    27.26   
 Residual              257.0    16.03   
Number of obs: 179, groups:  record_id, 75

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                    191.2270     5.1990  96.6933  36.782   &lt;2e-16
allocation_groupGrupo B         -0.7165     7.3039  96.6933  -0.098    0.922
visit2                          -5.9068     4.0291 105.4088  -1.466    0.146
visit3                          -0.3796     4.3671 106.4164  -0.087    0.931
allocation_groupGrupo B:visit2  -0.1153     5.9143 106.8530  -0.019    0.984
allocation_groupGrupo B:visit3  -7.7590     6.3553 107.5905  -1.221    0.225
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.332  0.236                     
visit3      -0.306  0.218  0.451              
allctn_GB:2  0.226 -0.317 -0.681 -0.308       
allctn_GB:3  0.210 -0.295 -0.310 -0.687  0.436</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_cholesterol_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: labs_cholesterol ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_cholesterol_model_check$influential_ids)

REML criterion at convergence: 1418.7

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.44867 -0.52709  0.01502  0.52817  2.19955 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 728.2    26.98   
 Residual              139.8    11.82   
Number of obs: 164, groups:  record_id, 70

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                    191.1697     5.1285  80.3020  37.276   &lt;2e-16
allocation_groupGrupo B         -0.6778     7.0540  80.3020  -0.096   0.9237
visit2                          -5.9843     3.1939  93.1276  -1.874   0.0641
visit3                          -3.9379     3.5150  93.6547  -1.120   0.2654
allocation_groupGrupo B:visit2  -1.5573     4.5754  93.8263  -0.340   0.7343
allocation_groupGrupo B:visit3  -2.1290     4.9645  94.1891  -0.429   0.6690
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                         .  
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.727                            
visit2      -0.259  0.188                     
visit3      -0.235  0.171  0.448              
allctn_GB:2  0.180 -0.248 -0.698 -0.312       
allctn_GB:3  0.166 -0.229 -0.317 -0.708  0.436</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                       estimate std.error statistic   p.value
   &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Original    (Intercept)                 191.         5.20   36.8     1.19e-58
 2 Sensitivity (Intercept)                 191.         5.13   37.3     1.85e-52
 3 Original    allocation_groupGrupo B      -0.717      7.30   -0.0981  9.22e- 1
 4 Sensitivity allocation_groupGrupo B      -0.678      7.05   -0.0961  9.24e- 1
 5 Original    allocation_groupGrupo B:v…   -0.115      5.91   -0.0195  9.84e- 1
 6 Sensitivity allocation_groupGrupo B:v…   -1.56       4.58   -0.340   7.34e- 1
 7 Original    allocation_groupGrupo B:v…   -7.76       6.36   -1.22    2.25e- 1
 8 Sensitivity allocation_groupGrupo B:v…   -2.13       4.96   -0.429   6.69e- 1
 9 Original    sd__(Intercept)              27.3       NA      NA      NA       
10 Sensitivity sd__(Intercept)              27.0       NA      NA      NA       
11 Original    sd__Observation              16.0       NA      NA      NA       
12 Sensitivity sd__Observation              11.8       NA      NA      NA       
13 Original    visit2                       -5.91       4.03   -1.47    1.46e- 1
14 Sensitivity visit2                       -5.98       3.19   -1.87    6.41e- 2
15 Original    visit3                       -0.380      4.37   -0.0869  9.31e- 1
16 Sensitivity visit3                       -3.94       3.51   -1.12    2.65e- 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_cholesterol_model, labs_cholesterol_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                        |           Model |  AIC (weights) | AICc (weights)
-------------------------------------------------------------------------------
labs_cholesterol_model      | lmerModLmerTest | 1661.8 (&lt;.001) | 1662.7 (&lt;.001)
labs_cholesterol_model_sens | lmerModLmerTest | 1461.2 (&gt;.999) | 1462.1 (&gt;.999)

Name                        |  BIC (weights) | R2 (cond.) | R2 (marg.) |   ICC
------------------------------------------------------------------------------
labs_cholesterol_model      | 1687.3 (&lt;.001) |      0.746 |      0.011 | 0.743
labs_cholesterol_model_sens | 1486.0 (&gt;.999) |      0.841 |      0.011 | 0.839

Name                        |   RMSE |  Sigma
---------------------------------------------
labs_cholesterol_model      | 12.602 | 16.030
labs_cholesterol_model_sens |  9.049 | 11.822</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_cholesterol_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_cholesterol_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_cholesterol_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_cholesterol_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>    labs_cholesterol_model_sens, </span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>labs_cholesterol_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean   SE    df lower.CL upper.CL
 Grupo A          1        191 5.13  79.8      181      201
 Grupo B          1        190 4.84  79.8      181      200
 Grupo A          2        185 5.30  88.6      175      196
 Grupo B          2        183 5.16  97.7      173      193
 Grupo A          3        187 5.50  99.7      176      198
 Grupo B          3        184 5.31 106.3      174      195

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_cholesterol_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate   SE    df t.ratio p.value
 Grupo A - Grupo B    0.678 7.05  79.8   0.096  0.9237

visit = 2:
 contrast          estimate   SE    df t.ratio p.value
 Grupo A - Grupo B    2.235 7.40  92.9   0.302  0.7632

visit = 3:
 contrast          estimate   SE    df t.ratio p.value
 Grupo A - Grupo B    2.807 7.64 102.8   0.367  0.7142

Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_cholesterol_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate   SE   df t.ratio p.value
 visit1 - visit2     5.98 3.20 92.6   1.872  0.1929
 visit1 - visit3     3.94 3.52 93.2   1.119  0.7975
 visit2 - visit3    -2.05 3.54 91.1  -0.579  1.0000

allocation_group = Grupo B:
 contrast        estimate   SE   df t.ratio p.value
 visit1 - visit2     7.54 3.28 94.0   2.300  0.0710
 visit1 - visit3     6.07 3.51 94.2   1.729  0.2615
 visit2 - visit3    -1.47 3.65 91.6  -0.404  1.0000

Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_cholesterol_emm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_cholesterol_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_cholesterol,</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb121-18"><a href="#cb121-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_cholesterol_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_cholesterol_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_cholesterol,</span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb122-19"><a href="#cb122-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb122-20"><a href="#cb122-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb122-21"><a href="#cb122-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb122-22"><a href="#cb122-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb122-23"><a href="#cb122-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_cholesterol_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="labs_ldl" class="level3">
<h3 class="anchored" data-anchor-id="labs_ldl">labs_ldl</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>labs_ldl_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_ldl &lt; 300</span></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;% </span></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_ldl)) <span class="sc">+</span> </span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a>labs_ldl_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb124-12"><a href="#cb124-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_ldl &lt; 300</span></span>
<span id="cb124-13"><a href="#cb124-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;%</span></span>
<span id="cb124-14"><a href="#cb124-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_ldl))) <span class="sc">+</span> </span>
<span id="cb124-15"><a href="#cb124-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb124-16"><a href="#cb124-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-17"><a href="#cb124-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb124-18"><a href="#cb124-18" aria-hidden="true" tabindex="-1"></a>labs_ldl_hist_1 <span class="sc">+</span> labs_ldl_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ldl_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>labs_ldl_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(labs_ldl <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_ldl_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.18 [1.06, 1.52]         1.08      0.85
                  visit 3.49 [2.78, 4.49]         1.87      0.29
 allocation_group:visit 3.77 [3.00, 4.86]         1.94      0.26
 Tolerance 95% CI
     [0.66, 0.94]
     [0.22, 0.36]
     [0.21, 0.33]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>labs_ldl_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_ldl_model,</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">5</span>)</span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>labs_ldl_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_ldl_model,</span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_ldl_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a>labs_ldl_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "16" "17" "56" "37" "50"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_ldl_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: labs_ldl ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: 1601.5

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-2.9892 -0.3229 -0.0296  0.3610  2.5195 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 605.7    24.61   
 Residual              249.7    15.80   
Number of obs: 179, groups:  record_id, 75

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                    115.4919     4.8081  98.3445  24.020   &lt;2e-16
allocation_groupGrupo B         -3.7735     6.7548  98.3445  -0.559    0.578
visit2                          -5.5925     3.9659 103.9503  -1.410    0.161
visit3                          -0.0205     4.2968 105.1671  -0.005    0.996
allocation_groupGrupo B:visit2   1.9191     5.8182 105.6037   0.330    0.742
allocation_groupGrupo B:visit3  -5.9060     6.2502 106.5086  -0.945    0.347
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.354  0.252                     
visit3      -0.327  0.233  0.450              
allctn_GB:2  0.241 -0.339 -0.682 -0.307       
allctn_GB:3  0.225 -0.315 -0.310 -0.687  0.434</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_ldl_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: labs_ldl ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_ldl_model_check$influential_ids)

REML criterion at convergence: 1409.6

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.40389 -0.45872 -0.04587  0.38702  2.26265 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 663.1    25.75   
 Residual              134.9    11.61   
Number of obs: 164, groups:  record_id, 70

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                    113.7000     4.8448  79.8422  23.469   &lt;2e-16
allocation_groupGrupo B         -1.6611     6.7557  79.8422  -0.246    0.806
visit2                          -4.7013     3.0810  92.0892  -1.526    0.130
visit3                          -0.1022     3.3768  92.6447  -0.030    0.976
allocation_groupGrupo B:visit2   1.4048     4.5009  92.9553   0.312    0.756
allocation_groupGrupo B:visit3  -4.6904     4.8797  93.3370  -0.961    0.339
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.717                            
visit2      -0.266  0.191                     
visit3      -0.243  0.174  0.449              
allctn_GB:2  0.182 -0.254 -0.685 -0.308       
allctn_GB:3  0.168 -0.234 -0.311 -0.692  0.434</code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>labs_ldl_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                       estimate std.error statistic   p.value
   &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Original    (Intercept)                115.          4.81  24.0      6.20e-43
 2 Sensitivity (Intercept)                114.          4.84  23.5      1.40e-37
 3 Original    allocation_groupGrupo B     -3.77        6.75  -0.559    5.78e- 1
 4 Sensitivity allocation_groupGrupo B     -1.66        6.76  -0.246    8.06e- 1
 5 Original    allocation_groupGrupo B:v…   1.92        5.82   0.330    7.42e- 1
 6 Sensitivity allocation_groupGrupo B:v…   1.40        4.50   0.312    7.56e- 1
 7 Original    allocation_groupGrupo B:v…  -5.91        6.25  -0.945    3.47e- 1
 8 Sensitivity allocation_groupGrupo B:v…  -4.69        4.88  -0.961    3.39e- 1
 9 Original    sd__(Intercept)             24.6        NA     NA       NA       
10 Sensitivity sd__(Intercept)             25.8        NA     NA       NA       
11 Original    sd__Observation             15.8        NA     NA       NA       
12 Sensitivity sd__Observation             11.6        NA     NA       NA       
13 Original    visit2                      -5.59        3.97  -1.41     1.61e- 1
14 Sensitivity visit2                      -4.70        3.08  -1.53     1.30e- 1
15 Original    visit3                      -0.0205      4.30  -0.00477  9.96e- 1
16 Sensitivity visit3                      -0.102       3.38  -0.0303   9.76e- 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_ldl_model, labs_ldl_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                |           Model |  AIC (weights) | AICc (weights)
-----------------------------------------------------------------------
labs_ldl_model      | lmerModLmerTest | 1645.5 (&lt;.001) | 1646.4 (&lt;.001)
labs_ldl_model_sens | lmerModLmerTest | 1451.7 (&gt;.999) | 1452.6 (&gt;.999)

Name                |  BIC (weights) | R2 (cond.) | R2 (marg.) |   ICC |   RMSE |  Sigma
----------------------------------------------------------------------------------------
labs_ldl_model      | 1671.0 (&lt;.001) |      0.712 |      0.014 | 0.708 | 12.514 | 15.802
labs_ldl_model_sens | 1476.5 (&gt;.999) |      0.832 |      0.007 | 0.831 |  8.905 | 11.615</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_ldl_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ldl_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_ldl_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ldl_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>labs_ldl_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>    labs_ldl_model_sens, </span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>labs_ldl_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean   SE    df lower.CL upper.CL
 Grupo A          1        114 4.84  80.5    104.1      123
 Grupo B          1        112 4.71  80.5    102.7      121
 Grupo A          2        109 5.00  89.3     99.1      119
 Grupo B          2        109 5.05  99.8     98.7      119
 Grupo A          3        114 5.19 100.3    103.3      124
 Grupo B          3        107 5.21 109.2     96.9      118

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_ldl_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate   SE    df t.ratio p.value
 Grupo A - Grupo B    1.661 6.76  80.5   0.246  0.8064

visit = 2:
 contrast          estimate   SE    df t.ratio p.value
 Grupo A - Grupo B    0.256 7.11  94.5   0.036  0.9713

visit = 3:
 contrast          estimate   SE    df t.ratio p.value
 Grupo A - Grupo B    6.351 7.35 104.7   0.864  0.3897

Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_ldl_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate   SE   df t.ratio p.value
 visit1 - visit2    4.701 3.08 92.7   1.525  0.3920
 visit1 - visit3    0.102 3.38 93.2   0.030  1.0000
 visit2 - visit3   -4.599 3.40 91.1  -1.353  0.5381

allocation_group = Grupo B:
 contrast        estimate   SE   df t.ratio p.value
 visit1 - visit2    3.297 3.28 94.3   1.004  0.9544
 visit1 - visit3    4.793 3.53 94.6   1.359  0.5322
 visit2 - visit3    1.496 3.67 91.8   0.408  1.0000

Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_ldl_emm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ldl_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_ldl,</span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb146-7"><a href="#cb146-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb146-8"><a href="#cb146-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb146-9"><a href="#cb146-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb146-10"><a href="#cb146-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb146-11"><a href="#cb146-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb146-12"><a href="#cb146-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb146-13"><a href="#cb146-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb146-14"><a href="#cb146-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb146-15"><a href="#cb146-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb146-16"><a href="#cb146-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb146-17"><a href="#cb146-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb146-18"><a href="#cb146-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ldl_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_ldl_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_ldl,</span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb147-13"><a href="#cb147-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb147-14"><a href="#cb147-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb147-15"><a href="#cb147-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb147-16"><a href="#cb147-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb147-17"><a href="#cb147-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb147-18"><a href="#cb147-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb147-19"><a href="#cb147-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb147-20"><a href="#cb147-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb147-21"><a href="#cb147-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb147-22"><a href="#cb147-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb147-23"><a href="#cb147-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_ldl_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="labs_hdl" class="level3">
<h3 class="anchored" data-anchor-id="labs_hdl">labs_hdl</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>labs_hdl_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_hdl &lt; 300</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;% </span></span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_hdl)) <span class="sc">+</span> </span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a>labs_hdl_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_hdl &lt; 300</span></span>
<span id="cb149-13"><a href="#cb149-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;%</span></span>
<span id="cb149-14"><a href="#cb149-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_hdl))) <span class="sc">+</span> </span>
<span id="cb149-15"><a href="#cb149-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb149-16"><a href="#cb149-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-17"><a href="#cb149-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb149-18"><a href="#cb149-18" aria-hidden="true" tabindex="-1"></a>labs_hdl_hist_1 <span class="sc">+</span> labs_hdl_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_hdl_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>labs_hdl_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="fu">log1p</span>(labs_hdl) <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_hdl_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.16 [1.05, 1.51]         1.08      0.86
                  visit 3.49 [2.78, 4.48]         1.87      0.29
 allocation_group:visit 3.74 [2.97, 4.81]         1.93      0.27
 Tolerance 95% CI
     [0.66, 0.95]
     [0.22, 0.36]
     [0.21, 0.34]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>labs_hdl_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_hdl_model,</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">5</span>)</span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>labs_hdl_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_hdl_model,</span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_hdl_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a>labs_hdl_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "16" "75" "38" "42" "26"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_hdl_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_hdl) ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: -79.8

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-2.4161 -0.4907 -0.0289  0.4389  3.0395 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.03949  0.1987  
 Residual              0.01437  0.1199  
Number of obs: 179, groups:  record_id, 75

Fixed effects:
                                Estimate Std. Error        df t value Pr(&gt;|t|)
(Intercept)                      3.94481    0.03815  94.81644 103.399   &lt;2e-16
allocation_groupGrupo B          0.06500    0.05360  94.81644   1.213    0.228
visit2                          -0.01725    0.03011 102.74671  -0.573    0.568
visit3                          -0.01928    0.03264 103.82312  -0.591    0.556
allocation_groupGrupo B:visit2  -0.02214    0.04420 104.26672  -0.501    0.618
allocation_groupGrupo B:visit3  -0.03185    0.04749 105.05887  -0.671    0.504
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.338  0.241                     
visit3      -0.312  0.222  0.451              
allctn_GB:2  0.230 -0.324 -0.681 -0.307       
allctn_GB:3  0.214 -0.301 -0.310 -0.687  0.435</code></pre>
</div>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_hdl_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_hdl) ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_hdl_model_check$influential_ids)

REML criterion at convergence: -109.5

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-1.93721 -0.52772 -0.00876  0.50466  2.04629 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.03870  0.1967  
 Residual              0.01007  0.1004  
Number of obs: 166, groups:  record_id, 70

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                     3.92823    0.03733 82.44138 105.230   &lt;2e-16
allocation_groupGrupo B         0.06708    0.05279 82.44138   1.271    0.207
visit2                         -0.01029    0.02612 93.87428  -0.394    0.695
visit3                         -0.01338    0.02805 94.47459  -0.477    0.635
allocation_groupGrupo B:visit2 -0.02943    0.03859 95.06373  -0.763    0.448
allocation_groupGrupo B:visit3 -0.03861    0.04187 95.58326  -0.922    0.359
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.707                            
visit2      -0.295  0.209                     
visit3      -0.275  0.194  0.457              
allctn_GB:2  0.200 -0.283 -0.677 -0.310       
allctn_GB:3  0.184 -0.260 -0.306 -0.670  0.440</code></pre>
</div>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>labs_hdl_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                       estimate std.error statistic   p.value
   &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Original    (Intercept)                  3.94      0.0382   103.     2.78e-99
 2 Sensitivity (Intercept)                  3.93      0.0373   105.     1.23e-89
 3 Original    allocation_groupGrupo B      0.0650    0.0536     1.21   2.28e- 1
 4 Sensitivity allocation_groupGrupo B      0.0671    0.0528     1.27   2.07e- 1
 5 Original    allocation_groupGrupo B:v…  -0.0221    0.0442    -0.501  6.18e- 1
 6 Sensitivity allocation_groupGrupo B:v…  -0.0294    0.0386    -0.763  4.48e- 1
 7 Original    allocation_groupGrupo B:v…  -0.0318    0.0475    -0.671  5.04e- 1
 8 Sensitivity allocation_groupGrupo B:v…  -0.0386    0.0419    -0.922  3.59e- 1
 9 Original    sd__(Intercept)              0.199    NA         NA     NA       
10 Sensitivity sd__(Intercept)              0.197    NA         NA     NA       
11 Original    sd__Observation              0.120    NA         NA     NA       
12 Sensitivity sd__Observation              0.100    NA         NA     NA       
13 Original    visit2                      -0.0172    0.0301    -0.573  5.68e- 1
14 Sensitivity visit2                      -0.0103    0.0261    -0.394  6.95e- 1
15 Original    visit3                      -0.0193    0.0326    -0.591  5.56e- 1
16 Sensitivity visit3                      -0.0134    0.0281    -0.477  6.35e- 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_hdl_model, labs_hdl_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                |           Model |  AIC (weights) | AICc (weights)
-----------------------------------------------------------------------
labs_hdl_model      | lmerModLmerTest | 1319.8 (&lt;.001) | 1320.7 (&lt;.001)
labs_hdl_model_sens | lmerModLmerTest | 1181.6 (&gt;.999) | 1182.5 (&gt;.999)

Name                |  BIC (weights) | R2 (cond.) | R2 (marg.) |   ICC |  RMSE | Sigma
--------------------------------------------------------------------------------------
labs_hdl_model      | 1345.3 (&lt;.001) |      0.738 |      0.017 | 0.733 | 0.094 | 0.120
labs_hdl_model_sens | 1206.5 (&gt;.999) |      0.797 |      0.018 | 0.793 | 0.078 | 0.100</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_hdl_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_hdl_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_hdl_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_hdl_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>labs_hdl_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>    labs_hdl_model_sens, </span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>labs_hdl_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean     SE    df lower.CL upper.CL
 Grupo A          1       3.93 0.0373  83.9     3.85     4.00
 Grupo B          1       4.00 0.0373  83.9     3.92     4.07
 Grupo A          2       3.92 0.0387  93.9     3.84     3.99
 Grupo B          2       3.96 0.0403 105.0     3.88     4.04
 Grupo A          3       3.91 0.0401 104.0     3.84     3.99
 Grupo B          3       3.94 0.0423 118.8     3.86     4.03

Degrees-of-freedom method: kenward-roger 
Results are given on the log1p (not the response) scale. 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_hdl_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B  -0.0671 0.0528  83.9  -1.271  0.2074

visit = 2:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B  -0.0376 0.0559  99.6  -0.673  0.5024

visit = 3:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B  -0.0285 0.0582 111.7  -0.489  0.6260

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_hdl_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  0.01029 0.0261 95.2   0.394  1.0000
 visit1 - visit3  0.01338 0.0281 95.8   0.476  1.0000
 visit2 - visit3  0.00309 0.0283 93.2   0.109  1.0000

allocation_group = Grupo B:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  0.03972 0.0284 97.4   1.397  0.4970
 visit1 - visit3  0.05199 0.0311 97.8   1.670  0.2942
 visit2 - visit3  0.01227 0.0320 94.0   0.384  1.0000

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_hdl_emm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_hdl_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_hdl,</span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb171-16"><a href="#cb171-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb171-17"><a href="#cb171-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb171-18"><a href="#cb171-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_hdl_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_hdl_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb172-6"><a href="#cb172-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb172-7"><a href="#cb172-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb172-8"><a href="#cb172-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb172-9"><a href="#cb172-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb172-10"><a href="#cb172-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_hdl,</span>
<span id="cb172-11"><a href="#cb172-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb172-12"><a href="#cb172-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb172-13"><a href="#cb172-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb172-14"><a href="#cb172-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb172-15"><a href="#cb172-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb172-16"><a href="#cb172-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb172-17"><a href="#cb172-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb172-18"><a href="#cb172-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb172-19"><a href="#cb172-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb172-20"><a href="#cb172-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb172-21"><a href="#cb172-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb172-22"><a href="#cb172-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb172-23"><a href="#cb172-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_hdl_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="labs_triglycerides" class="level3">
<h3 class="anchored" data-anchor-id="labs_triglycerides">labs_triglycerides</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Raw data</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_hist_1 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_triglycerides &lt; 300</span></span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;% </span></span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> labs_triglycerides)) <span class="sc">+</span> </span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb174-8"><a href="#cb174-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-9"><a href="#cb174-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Log-transformed data</span></span>
<span id="cb174-10"><a href="#cb174-10" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_hist_2 <span class="ot">&lt;-</span> data_model <span class="sc">%&gt;%</span> </span>
<span id="cb174-11"><a href="#cb174-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(</span></span>
<span id="cb174-12"><a href="#cb174-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#    labs_triglycerides &lt; 300</span></span>
<span id="cb174-13"><a href="#cb174-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#) %&gt;%</span></span>
<span id="cb174-14"><a href="#cb174-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log1p</span>(labs_triglycerides))) <span class="sc">+</span> </span>
<span id="cb174-15"><a href="#cb174-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb174-16"><a href="#cb174-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-17"><a href="#cb174-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine side by side</span></span>
<span id="cb174-18"><a href="#cb174-18" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_hist_1 <span class="sc">+</span> labs_triglycerides_hist_2 <span class="co"># library(patchwork)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_triglycerides_1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM</span></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="fu">log1p</span>(labs_triglycerides) <span class="sc">~</span> allocation_group <span class="sc">*</span> visit <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> record_id), <span class="at">data =</span> data_model)</span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="fu">check_collinearity</span>(labs_triglycerides_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Check for Multicollinearity

Low Correlation

                   Term  VIF   VIF 95% CI Increased SE Tolerance
       allocation_group 1.20 [1.08, 1.53]         1.10      0.83
                  visit 3.50 [2.79, 4.49]         1.87      0.29
 allocation_group:visit 3.82 [3.03, 4.92]         1.95      0.26
 Tolerance 95% CI
     [0.65, 0.93]
     [0.22, 0.36]
     [0.20, 0.33]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_model_check <span class="ot">&lt;-</span> <span class="fu">sensitivity_check_lmer</span>(</span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> labs_triglycerides_model,</span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_var =</span> <span class="st">"record_id"</span>,</span>
<span id="cb177-5"><a href="#cb177-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">top_n =</span> <span class="dv">5</span>)</span>
<span id="cb177-6"><a href="#cb177-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-7"><a href="#cb177-7" aria-hidden="true" tabindex="-1"></a><span class="co"># LMM Sensitivity</span></span>
<span id="cb177-8"><a href="#cb177-8" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_model_sens <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="at">object =</span> labs_triglycerides_model,</span>
<span id="cb177-9"><a href="#cb177-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">subset =</span> <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_triglycerides_model_check<span class="sc">$</span>influential_ids))</span>
<span id="cb177-10"><a href="#cb177-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Influential IDS</span></span>
<span id="cb177-11"><a href="#cb177-11" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_model_check<span class="sc">$</span>influential_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "16" "17" "1"  "2"  "20"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model comparison</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_triglycerides_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_triglycerides) ~ allocation_group * visit + (1 | record_id)
   Data: data_model

REML criterion at convergence: 156.5

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.48575 -0.55624 -0.06875  0.50582  2.77617 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.12894  0.3591  
 Residual              0.06212  0.2492  
Number of obs: 179, groups:  record_id, 75

Fixed effects:
                                Estimate Std. Error        df t value Pr(&gt;|t|)
(Intercept)                      4.76585    0.07186 100.80805  66.322   &lt;2e-16
allocation_groupGrupo B         -0.02118    0.10095 100.80805  -0.210    0.834
visit2                           0.05652    0.06246 103.24903   0.905    0.368
visit3                           0.00822    0.06765 104.67836   0.122    0.904
allocation_groupGrupo B:visit2  -0.05643    0.09159 105.09618  -0.616    0.539
allocation_groupGrupo B:visit3   0.04983    0.09836 106.17407   0.507    0.614
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.712                            
visit2      -0.374  0.266                     
visit3      -0.345  0.246  0.449              
allctn_GB:2  0.255 -0.358 -0.682 -0.306       
allctn_GB:3  0.238 -0.334 -0.309 -0.688  0.433</code></pre>
</div>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(labs_triglycerides_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: log1p(labs_triglycerides) ~ allocation_group * visit + (1 | record_id)
   Data: data_model
 Subset: !(record_id %in% labs_triglycerides_model_check$influential_ids)

REML criterion at convergence: 110.8

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-1.56781 -0.62311 -0.09172  0.57450  2.18137 

Random effects:
 Groups    Name        Variance Std.Dev.
 record_id (Intercept) 0.12547  0.3542  
 Residual              0.04498  0.2121  
Number of obs: 164, groups:  record_id, 70

Fixed effects:
                               Estimate Std. Error       df t value Pr(&gt;|t|)
(Intercept)                     4.74183    0.07187 86.86729  65.980   &lt;2e-16
allocation_groupGrupo B        -0.02502    0.09885 86.86729  -0.253   0.8008
visit2                          0.04807    0.05702 92.31050   0.843   0.4014
visit3                         -0.09539    0.06269 93.35327  -1.522   0.1314
allocation_groupGrupo B:visit2 -0.01744    0.08158 93.47289  -0.214   0.8312
allocation_groupGrupo B:visit3  0.17857    0.08845 94.22579   2.019   0.0463
                                  
(Intercept)                    ***
allocation_groupGrupo B           
visit2                            
visit3                            
allocation_groupGrupo B:visit2    
allocation_groupGrupo B:visit3 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) all_GB visit2 visit3 a_GB:2
allctn_grGB -0.727                            
visit2      -0.333  0.242                     
visit3      -0.303  0.220  0.444              
allctn_GB:2  0.232 -0.320 -0.699 -0.310       
allctn_GB:3  0.214 -0.295 -0.314 -0.709  0.431</code></pre>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_model_check<span class="sc">$</span>comparison_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Model       term                       estimate std.error statistic   p.value
   &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Original    (Intercept)                 4.77       0.0719    66.3    5.68e-85
 2 Sensitivity (Intercept)                 4.74       0.0719    66.0    5.34e-76
 3 Original    allocation_groupGrupo B    -0.0212     0.101     -0.210  8.34e- 1
 4 Sensitivity allocation_groupGrupo B    -0.0250     0.0989    -0.253  8.01e- 1
 5 Original    allocation_groupGrupo B:v… -0.0564     0.0916    -0.616  5.39e- 1
 6 Sensitivity allocation_groupGrupo B:v… -0.0174     0.0816    -0.214  8.31e- 1
 7 Original    allocation_groupGrupo B:v…  0.0498     0.0984     0.507  6.14e- 1
 8 Sensitivity allocation_groupGrupo B:v…  0.179      0.0884     2.02   4.63e- 2
 9 Original    sd__(Intercept)             0.359     NA         NA     NA       
10 Sensitivity sd__(Intercept)             0.354     NA         NA     NA       
11 Original    sd__Observation             0.249     NA         NA     NA       
12 Sensitivity sd__Observation             0.212     NA         NA     NA       
13 Original    visit2                      0.0565     0.0625     0.905  3.68e- 1
14 Sensitivity visit2                      0.0481     0.0570     0.843  4.01e- 1
15 Original    visit3                      0.00822    0.0677     0.122  9.04e- 1
16 Sensitivity visit3                     -0.0954     0.0627    -1.52   1.31e- 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">compare_performance</span>(labs_triglycerides_model, labs_triglycerides_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name                          |           Model |  AIC (weights)
----------------------------------------------------------------
labs_triglycerides_model      | lmerModLmerTest | 1873.1 (&lt;.001)
labs_triglycerides_model_sens | lmerModLmerTest | 1671.7 (&gt;.999)

Name                          | AICc (weights) |  BIC (weights) | R2 (cond.)
----------------------------------------------------------------------------
labs_triglycerides_model      | 1873.9 (&lt;.001) | 1898.6 (&lt;.001) |      0.676
labs_triglycerides_model_sens | 1672.6 (&gt;.999) | 1696.5 (&gt;.999) |      0.739

Name                          | R2 (marg.) |   ICC |  RMSE | Sigma
------------------------------------------------------------------
labs_triglycerides_model      |      0.004 | 0.675 | 0.199 | 0.249
labs_triglycerides_model_sens |      0.012 | 0.736 | 0.166 | 0.212</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_triglycerides_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_triglycerides_4-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>performance<span class="sc">::</span><span class="fu">check_model</span>(labs_triglycerides_model_sens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_triglycerides_4-2.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get EMMs for each group at each visit</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_emm <span class="ot">&lt;-</span> emmeans<span class="sc">::</span><span class="fu">emmeans</span>(</span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a>    labs_triglycerides_model_sens, </span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> allocation_group <span class="sc">*</span> visit</span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of marginal means</span></span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a>labs_triglycerides_emm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> allocation_group visit emmean     SE    df lower.CL upper.CL
 Grupo A          1       4.74 0.0719  88.9     4.60     4.88
 Grupo B          1       4.72 0.0679  88.9     4.58     4.85
 Grupo A          2       4.79 0.0755 101.6     4.64     4.94
 Grupo B          2       4.75 0.0748 114.3     4.60     4.90
 Grupo A          3       4.65 0.0799 117.7     4.49     4.80
 Grupo B          3       4.80 0.0780 125.6     4.65     4.95

Degrees-of-freedom method: kenward-roger 
Results are given on the log1p (not the response) scale. 
Confidence level used: 0.95 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Between groups at each visit</span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_triglycerides_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"visit"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>visit = 1:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B   0.0250 0.0989  88.9   0.253  0.8008

visit = 2:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B   0.0425 0.1060 107.8   0.400  0.6902

visit = 3:
 contrast          estimate     SE    df t.ratio p.value
 Grupo A - Grupo B  -0.1535 0.1120 121.6  -1.376  0.1715

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger </code></pre>
</div>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pairwise comparisons: Changes over time within each group</span></span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(labs_triglycerides_emm, <span class="at">method =</span> <span class="st">"pairwise"</span>, <span class="at">by =</span> <span class="st">"allocation_group"</span>, <span class="at">adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>allocation_group = Grupo A:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  -0.0481 0.0571 94.3  -0.842  1.0000
 visit1 - visit3   0.0954 0.0628 95.3   1.520  0.3956
 visit2 - visit3   0.1435 0.0633 92.0   2.265  0.0776

allocation_group = Grupo B:
 contrast        estimate     SE   df t.ratio p.value
 visit1 - visit2  -0.0306 0.0584 96.5  -0.524  1.0000
 visit1 - visit3  -0.0832 0.0625 97.1  -1.331  0.5592
 visit2 - visit3  -0.0525 0.0652 92.9  -0.805  1.0000

Note: contrasts are still on the log1p scale. Consider using
      regrid() if you want contrasts of back-transformed estimates. 
Degrees-of-freedom method: kenward-roger 
P value adjustment: bonferroni method for 3 tests </code></pre>
</div>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of marginal means</span></span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(labs_triglycerides_emm, <span class="at">comparisons =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_triglycerides_5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data_model, </span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> labs_triglycerides,</span>
<span id="cb196-6"><a href="#cb196-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> record_id,</span>
<span id="cb196-7"><a href="#cb196-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb196-8"><a href="#cb196-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb196-9"><a href="#cb196-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb196-10"><a href="#cb196-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb196-11"><a href="#cb196-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb196-12"><a href="#cb196-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb196-13"><a href="#cb196-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb196-14"><a href="#cb196-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb196-15"><a href="#cb196-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb196-16"><a href="#cb196-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb196-17"><a href="#cb196-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All data"</span>) <span class="sc">+</span></span>
<span id="cb196-18"><a href="#cb196-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_triglycerides_6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a>data_model <span class="sc">%&gt;%</span> </span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb197-5"><a href="#cb197-5" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span>(record_id <span class="sc">%in%</span> labs_triglycerides_model_check<span class="sc">$</span>influential_ids)</span>
<span id="cb197-6"><a href="#cb197-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb197-7"><a href="#cb197-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb197-8"><a href="#cb197-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb197-9"><a href="#cb197-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="fu">as.factor</span>(visit),</span>
<span id="cb197-10"><a href="#cb197-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> labs_triglycerides,</span>
<span id="cb197-11"><a href="#cb197-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> record_id,</span>
<span id="cb197-12"><a href="#cb197-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb197-13"><a href="#cb197-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb197-14"><a href="#cb197-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb197-15"><a href="#cb197-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb197-16"><a href="#cb197-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb197-17"><a href="#cb197-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> allocation_group),</span>
<span id="cb197-18"><a href="#cb197-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb197-19"><a href="#cb197-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb197-20"><a href="#cb197-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb197-21"><a href="#cb197-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb197-22"><a href="#cb197-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sensitivity analysis"</span>) <span class="sc">+</span></span>
<span id="cb197-23"><a href="#cb197-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> allocation_group) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Outcomes_V1V2V3_files/figure-html/labs_triglycerides_6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">#coord_cartesian(ylim = c(10, 150))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>